# テーブル仕様書：Notion-like Table Rendering

## 1. 概要
Markdownのパイプテーブル（`| col |`）を、Notionのようなクリーンなグリッド表示に変換します。

## 2. デザイン詳細
### 罫線（Borders）
- **外枠と区切り線**: `|` や `-` を隠し、`│`, `─`, `┌`, `┬`, `┐` などの細い罫線文字を使用してグリッドを表現します。
- **色の調整**: 罫線は目立ちすぎないよう、控えめなグレー（薄い色）で表示します。

### ヘッダー（Header Row）
- **背景色**: ヘッダー行全体に薄い背景色を適用します。
- **強調**: ヘッダーのテキストを太字にします。

### セル（Cells）
- **パディング**: 各セルの左右に適切なスペースを確保します。
- **位置合わせ**: Markdownの仕様（左寄せ、中央寄せ、右寄せ）に従って配置をシミュレートします（簡易実装では左寄せ固定から開始）。

## 3. 技術的アプローチ
- `treesitter` の `pipe_table` ノードを解析します。
- `table_head`, `table_row`, `table_delimiter_row` をそれぞれ取得します。
- `virt_text` と `virt_lines` を使用して、元のテキストの上に罫線をオーバーレイ、または行間に挿入します。
- `conceal` を使用して、Markdown 本来の `|` や `-` を非表示にします。

## 4. 実装ステップ
1. **ハイライト定義**: テーブル用（罫線、ヘッダー背景）のハイライトグループを追加。
2. **テーブル解析**: `core.lua` にテーブル用のクエリを追加。
3. **罫線の描画**: 各行に対して垂直・水平の罫線を `virt_text` で付与。
4. **ヘッダー装飾**: `table_head` に対して専用の背景色を適用。
