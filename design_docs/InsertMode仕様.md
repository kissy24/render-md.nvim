# InsertMode仕様：編集時の生Markdown表示

## 1. 目的
インサートモード（編集モード）に入った際、すべての装飾（Extmarks, Virtual Text, Conceal）を一時的に解除し、ユーザーが生の Markdown テキストを直接確認・編集できるようにします。モードを抜けた際に、最新の内容で再度レンダリングを行います。

## 2. 挙動の詳細
- **InsertEnter (モード突入時)**:
    - 現在のバッファに適用されている `render-md` ネームスペースの装飾をすべて削除する。
    - `conceallevel` を 0 に設定し、隠されていた記号（# や * など）を表示する。
- **InsertLeave (モード脱出時)**:
    - `render` 関数を呼び出し、最新のバッファ内容に基づいて装飾を再適用する。
    - `conceallevel` を元の設定（2）に戻す。

## 3. 実装方針
- `lua/render-md/init.lua` の `enable` 関数内に、新しいオートコマンド（`InsertEnter`, `InsertLeave`）を追加する。
- `TextChangedI`（挿入モード中の変更）によるリアルタイムレンダリングは、この仕様と競合するため、挿入モード中はレンダリングをスキップするように `render` 関数のトリガーを調整する。

## 4. メリット
- カーソル位置と装飾がずれるストレスを解消できる。
- `[ ]` などの記号を直接タイピングする際の視認性が向上する。
- 編集中の動作が軽量になる。
